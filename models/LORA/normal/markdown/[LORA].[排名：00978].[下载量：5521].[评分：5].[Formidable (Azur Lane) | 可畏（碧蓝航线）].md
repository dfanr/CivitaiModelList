## Formidable (Azur Lane) | å¯ç•ï¼ˆç¢§è“èˆªçº¿ï¼‰
### ä¸€ã€æ¨¡å‹æ¦‚è¿°

- æ ‡ç­¾ï¼š`anime`, `character`, `girl`, `azur lane`, `game character`, `video game`, `formidable`, `ç¢§è“èˆªçº¿`, `å¯ç•`
- ä¸‹è½½æ•°ï¼š5521
- æ”¶è—äººæ•°ï¼š1176
- è¯„è®ºäººæ•°ï¼š11
- è¯„åˆ†äººæ•°ï¼š13
- è¯„åˆ†ï¼š5

### äºŒã€ä¸‹è½½åœ°å€ï¼ˆå…±3ä¸ªç‰ˆæœ¬ï¼‰

#### [ç‰ˆæœ¬3/å…±3ä¸ªç‰ˆæœ¬] Default v3

- ç»Ÿè®¡æ•°æ®
  - å‘å¸ƒæ—¶é—´ï¼š2023-05-30T15:29:47.847Z
  - åŸå§‹æ¨¡å‹ï¼šSD 1.5
  - ä¸‹è½½æ•°ï¼š1975
  - è¯„åˆ†äººæ•°ï¼š3
  - è¯„åˆ†ï¼š5
- ä¸‹è½½åœ°å€
  - [formidable_AzurLane_v3.safetensors](https://civitai.com/api/download/models/85580)
- æ ·ä¾‹å›¾åƒï¼š

| <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/bfa73e6e-dc9c-4093-abea-a2e62708430d/width=450/969811.jpeg" /> | <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/99503144-add6-40ac-acad-7639f024c7ad/width=450/969833.jpeg" /> | <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/d0388b57-787d-49eb-9549-938b7a5a1761/width=450/969841.jpeg" /> | <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/497e4515-26ab-472f-b915-457688ecba3b/width=450/969846.jpeg" /> |
| ---- | ---- | ---- | ---- |

#### [ç‰ˆæœ¬2/å…±3ä¸ªç‰ˆæœ¬] Default v2

- ç»Ÿè®¡æ•°æ®
  - å‘å¸ƒæ—¶é—´ï¼š2023-05-30T15:14:45.676Z
  - åŸå§‹æ¨¡å‹ï¼šSD 1.5
  - ä¸‹è½½æ•°ï¼š2391
  - è¯„åˆ†äººæ•°ï¼š6
  - è¯„åˆ†ï¼š5
- ä¸‹è½½åœ°å€
  - [formidable_AzurLane_v2.safetensors](https://civitai.com/api/download/models/52332)
- æ ·ä¾‹å›¾åƒï¼š

| <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/fb8b8bdd-07b4-4bb3-1776-3e0e3e985500/width=450/564105.jpeg" /> | <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/33374a45-8e51-4279-1eb0-c53734411500/width=450/564126.jpeg" /> | <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/f61c083e-b27b-49f1-2703-6d45bd572b00/width=450/564129.jpeg" /> | <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/91586f90-1ad3-4cef-71c0-ffc9345c1900/width=450/564134.jpeg" /> |
| ---- | ---- | ---- | ---- |

#### [ç‰ˆæœ¬1/å…±3ä¸ªç‰ˆæœ¬] Default v1

- ç»Ÿè®¡æ•°æ®
  - å‘å¸ƒæ—¶é—´ï¼š2023-05-30T15:14:45.676Z
  - åŸå§‹æ¨¡å‹ï¼šSD 1.5
  - ä¸‹è½½æ•°ï¼š1155
  - è¯„åˆ†äººæ•°ï¼š4
  - è¯„åˆ†ï¼š5
- ä¸‹è½½åœ°å€
  - [formidable_default v1.0.safetensors](https://civitai.com/api/download/models/44591)
- æ ·ä¾‹å›¾åƒï¼š

| <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/7cf4c54e-a051-4d4e-324c-a7db550fb600/width=450/485679.jpeg" /> | <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/c5063213-62d1-4633-190b-085ba7e6a000/width=450/485682.jpeg" /> | <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/617b2a38-9411-42f8-30bd-2f56f448a400/width=450/485677.jpeg" /> | <img src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/be5579a2-73fb-4391-8f9a-697ebac29000/width=450/485686.jpeg" /> |
| ---- | ---- | ---- | ---- |


### ä¸‰ã€è¯¦æƒ…
<h3 id="heading-226">2023.05.30ï¼š</h3><ul><li><p>ä½¿ç”¨é‡‘å­—å¡”å™ªå£°ï¼Œå¢åŠ å›¾åƒè´¨é‡ã€‚</p></li><li><p>Applying "Diffusion With Offset Noise" to enhance image quality.</p></li><li><p>å°è¯•åŠ å¼ºè…°éƒ¨é™„ç€ç‰©çš„æ‹Ÿåˆç¨‹åº¦ï¼Œä»£ä»·æ˜¯æ²¡æœ‰å¤´éƒ¨çš„å›¾åƒå‡ºç°æ¦‚ç‡å˜å¤§ã€‚</p></li><li><p>Attempting to improve the fit of waist attachments, at the cost of increased probability of images without heads.</p></li><li><p>å¦‚æœå‡ºç°æ²¡æœ‰å¤´éƒ¨çš„å›¾åƒï¼Œè¯·å°è¯•åœ¨è´Ÿé¢æç¤ºè¯æ·»åŠ <code>lower body</code>ã€‚</p></li><li><p>If images without heads occur, please try adding 'lower body' to the negative prompt.</p></li></ul><p></p><h3 id="heading-227">2023.04.22ï¼š</h3><ul><li><p>é‡æ–°æ ¡å¯¹æ–‡æœ¬é›†ï¼Œæç¤ºè¯çš„å‡†ç¡®æœ‰æ‰€ä¸Šå‡ã€‚</p></li><li><p>Reviewed the text dataset again, and the accuracy of prompt words has improved.</p></li><li><p>å¢åŠ è®­ç»ƒæ­¥æ•°ï¼Œæå‡æ‹Ÿåˆç¨‹åº¦ã€‚</p></li><li><p>Increased the number of training steps to improve the fitting level.</p></li></ul><p></p><h3 id="heading-228">2023.04.13ï¼š</h3><p>è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è¿›è¡ŒLoRAè®­ç»ƒï¼Œå‡ºç°é—®é¢˜çš„åœ°æ–¹æˆ‘æœªå¿…çŸ¥é“å¦‚ä½•è§£å†³ã€‚</p><p>This is my first time training with LoRA, and there may be issues that I am not sure how to solve.</p><p></p><h3 id="heading-229"><s>å¤§å°±æ˜¯å¥½ã€‚</s></h3><p><s>bigger is better.</s></p><p></p><h3 id="heading-230">ğŸ¥µ</h3><p></p><h3 id="heading-231">Training Setï¼š</h3><ul><li><p>number of repeats = 2</p><ul><li><p>close-up = 10</p></li><li><p>portrait = 10</p></li><li><p>upper body = 10</p></li><li><p>lower_body=10</p></li><li><p>cowboy shot = 10</p></li><li><p>full body = 10</p></li><li><p>pose = 15</p></li><li><p>other clothing = 10</p></li><li><p>ornament_waist = 10</p></li></ul></li><li><p>number of repeats = 4</p><ul><li><p>nsfw = 30</p></li><li><p>chibi = 5</p></li></ul></li><li><p>number of images = 130</p></li><li><p>number of epochs = 19</p></li></ul><pre><code>#!/bin/bash
# LoRA train script by @Akegarasu

# Train data path | è®¾ç½®è®­ç»ƒç”¨æ¨¡å‹ã€å›¾ç‰‡
pretrained_model="./sd-models/model.ckpt"     # base model path | åº•æ¨¡è·¯å¾„
is_v2_model=0                                 # SD2.0 model | SD2.0æ¨¡å‹ 2.0æ¨¡å‹ä¸‹ clip_skip é»˜è®¤æ— æ•ˆ
parameterization=0                            # parameterization | å‚æ•°åŒ– æœ¬å‚æ•°éœ€è¦å’Œ V2 å‚æ•°åŒæ­¥ä½¿ç”¨ å®éªŒæ€§åŠŸèƒ½
train_data_dir="./train/1.formidable-default" # train dataset path | è®­ç»ƒæ•°æ®é›†è·¯å¾„
reg_data_dir=""                               # directory for regularization images | æ­£åˆ™åŒ–æ•°æ®é›†è·¯å¾„ï¼Œé»˜è®¤ä¸ä½¿ç”¨æ­£åˆ™åŒ–å›¾åƒã€‚

# Network settings | ç½‘ç»œè®¾ç½®
network_module="networks.lora" # åœ¨è¿™é‡Œå°†ä¼šè®¾ç½®è®­ç»ƒçš„ç½‘ç»œç§ç±»ï¼Œé»˜è®¤ä¸º networks.lora ä¹Ÿå°±æ˜¯ LoRA è®­ç»ƒã€‚å¦‚æœä½ æƒ³è®­ç»ƒ LyCORISï¼ˆLoConã€LoHaï¼‰ ç­‰ï¼Œåˆ™ä¿®æ”¹è¿™ä¸ªå€¼ä¸º lycoris.kohya
network_weights=""             # pretrained weights for LoRA network | è‹¥éœ€è¦ä»å·²æœ‰çš„ LoRA æ¨¡å‹ä¸Šç»§ç»­è®­ç»ƒï¼Œè¯·å¡«å†™ LoRA æ¨¡å‹è·¯å¾„ã€‚
network_dim=32                 # network dim | å¸¸ç”¨ 4~128ï¼Œä¸æ˜¯è¶Šå¤§è¶Šå¥½
network_alpha=16               # network alpha | å¸¸ç”¨ä¸ network_dim ç›¸åŒçš„å€¼æˆ–è€…é‡‡ç”¨è¾ƒå°çš„å€¼ï¼Œå¦‚ network_dimçš„ä¸€åŠ é˜²æ­¢ä¸‹æº¢ã€‚é»˜è®¤å€¼ä¸º 1ï¼Œä½¿ç”¨è¾ƒå°çš„ alpha éœ€è¦æå‡å­¦ä¹ ç‡ã€‚

# Train related params | è®­ç»ƒç›¸å…³å‚æ•°
resolution="768,768"  # image resolution w,h. å›¾ç‰‡åˆ†è¾¨ç‡ï¼Œå®½,é«˜ã€‚æ”¯æŒéæ­£æ–¹å½¢ï¼Œä½†å¿…é¡»æ˜¯ 64 å€æ•°ã€‚
batch_size=2          # batch size
max_train_epoches=20  # max train epoches | æœ€å¤§è®­ç»ƒ epoch
save_every_n_epochs=1 # save every n epochs | æ¯ N ä¸ª epoch ä¿å­˜ä¸€æ¬¡

train_unet_only=0            # train U-Net only | ä»…è®­ç»ƒ U-Netï¼Œå¼€å¯è¿™ä¸ªä¼šç‰ºç‰²æ•ˆæœå¤§å¹…å‡å°‘æ˜¾å­˜ä½¿ç”¨ã€‚6Gæ˜¾å­˜å¯ä»¥å¼€å¯
train_text_encoder_only=0    # train Text Encoder only | ä»…è®­ç»ƒ æ–‡æœ¬ç¼–ç å™¨
stop_text_encoder_training=0 # stop text encoder training | åœ¨ç¬¬Næ­¥æ—¶åœæ­¢è®­ç»ƒæ–‡æœ¬ç¼–ç å™¨

# å™ªéŸ³
noise_offset="0" # noise offset | åœ¨è®­ç»ƒä¸­æ·»åŠ å™ªå£°åç§»æ¥æ”¹è‰¯ç”Ÿæˆéå¸¸æš—æˆ–è€…éå¸¸äº®çš„å›¾åƒï¼Œå¦‚æœå¯ç”¨ï¼Œæ¨èå‚æ•°ä¸º0.1
keep_tokens=2    # keep heading N tokens when shuffling caption tokens | åœ¨éšæœºæ‰“ä¹± tokens æ—¶ï¼Œä¿ç•™å‰ N ä¸ªä¸å˜ã€‚
min_snr_gamma=0  # minimum signal-to-noise ratio (SNR) value for gamma-ray | ä¼½é©¬å°„çº¿äº‹ä»¶çš„æœ€å°ä¿¡å™ªæ¯”ï¼ˆSNRï¼‰å€¼  é»˜è®¤ä¸º 0

# é‡‘å­—å¡”å™ªå£°
multires_noise_iterations=6 # å¤šåˆ†è¾¨ç‡ï¼ˆé‡‘å­—å¡”ï¼‰å™ªå£°è¿­ä»£æ¬¡æ•° æ¨è 6-10ã€‚æ— æ³•ä¸ noise_offset ä¸€åŒå¯ç”¨ã€‚
multires_noise_discount=0.3 # å¤šåˆ†è¾¨ç‡ï¼ˆé‡‘å­—å¡”ï¼‰è¡°å‡ç‡ æ¨è 0.3ï¼Œé¡»åŒæ—¶ä¸ä¸Šæ–¹å‚æ•° multires_noise_iterations ä¸€åŒå¯ç”¨ã€‚

# Learning rate | å­¦ä¹ ç‡
lr="3.5e-5"            # 3.5e-5=3.5*10^(-5)=0.000035
unet_lr="3.5e-5"       # 3.5e-5=3.5*10^(-5)=0.000035
text_encoder_lr="3e-6" #   3e-6=3.0*10^(-6)=0.000003
lr_scheduler="cosine_with_restarts" # "linear", "cosine", "cosine_with_restarts", "polynomial", "constant", "constant_with_warmup", "adafactor"
lr_warmup_steps=0                   # warmup steps | å­¦ä¹ ç‡é¢„çƒ­æ­¥æ•°ï¼Œlr_scheduler ä¸º constant æˆ– adafactor æ—¶è¯¥å€¼éœ€è¦è®¾ä¸º0ã€‚
lr_restart_cycles=1                 # cosine_with_restarts restart cycles | ä½™å¼¦é€€ç«é‡å¯æ¬¡æ•°ï¼Œä»…åœ¨ lr_scheduler ä¸º cosine_with_restarts æ—¶èµ·æ•ˆã€‚

# Output settings | è¾“å‡ºè®¾ç½®
output_name="1.formidable-default" # output model name | æ¨¡å‹ä¿å­˜åç§°
save_model_as="safetensors"        # model save ext | æ¨¡å‹ä¿å­˜æ ¼å¼ ckpt, pt, safetensors

# Resume training state | æ¢å¤è®­ç»ƒè®¾ç½®
save_state=0 # save state | ä¿å­˜è®­ç»ƒçŠ¶æ€ åç§°ç±»ä¼¼äº &lt;output_name&gt;-??????-state ?????? è¡¨ç¤º epoch æ•°
resume=""    # resume from state | ä»æŸä¸ªçŠ¶æ€æ–‡ä»¶å¤¹ä¸­æ¢å¤è®­ç»ƒ éœ€é…åˆä¸Šæ–¹å‚æ•°åŒæ—¶ä½¿ç”¨ ç”±äºè§„èŒƒæ–‡ä»¶é™åˆ¶ epoch æ•°å’Œå…¨å±€æ­¥æ•°ä¸ä¼šä¿å­˜ å³ä½¿æ¢å¤æ—¶å®ƒä»¬ä¹Ÿä» 1 å¼€å§‹ ä¸ network_weights çš„å…·ä½“å®ç°æ“ä½œå¹¶ä¸ä¸€è‡´

# å…¶ä»–è®¾ç½®
min_bucket_reso=256              # arb min resolution | arb æœ€å°åˆ†è¾¨ç‡
max_bucket_reso=1024             # arb max resolution | arb æœ€å¤§åˆ†è¾¨ç‡
persistent_data_loader_workers=0 # persistent dataloader workers | å®¹æ˜“çˆ†å†…å­˜ï¼Œä¿ç•™åŠ è½½è®­ç»ƒé›†çš„workerï¼Œå‡å°‘æ¯ä¸ª epoch ä¹‹é—´çš„åœé¡¿
clip_skip=2                      # clip skip | ç„å­¦ ä¸€èˆ¬ç”¨ 2

# ä¼˜åŒ–å™¨è®¾ç½®
optimizer_type="Lion" # Optimizer type | ä¼˜åŒ–å™¨ç±»å‹ é»˜è®¤ä¸º AdamW8bitï¼Œå¯é€‰ï¼šAdamW AdamW8bit Lion SGDNesterov SGDNesterov8bit DAdaptation AdaFactor

# LyCORIS è®­ç»ƒè®¾ç½®
algo="lora"  # LyCORIS network algo | LyCORIS ç½‘ç»œç®—æ³• å¯é€‰ loraã€lohaã€lokrã€ia3ã€dyloraã€‚loraå³ä¸ºlocon
conv_dim=4   # conv dim | ç±»ä¼¼äº network_dimï¼Œæ¨èä¸º 4
conv_alpha=4 # conv alpha | ç±»ä¼¼äº network_alphaï¼Œå¯ä»¥é‡‡ç”¨ä¸ conv_dim ä¸€è‡´æˆ–è€…æ›´å°çš„å€¼
dropout="0"  # dropout | dropout æ¦‚ç‡, 0 ä¸ºä¸ä½¿ç”¨ dropout, è¶Šå¤§åˆ™ dropout è¶Šå¤šï¼Œæ¨è 0~0.5ï¼Œ LoHa/LoKr/(IA)^3æš‚æ—¶ä¸æ”¯æŒ</code></pre>