{"id": 80536, "name": "Lighting based picture control controlnet", "description": "<p><a target=\"_blank\" rel=\"ugc\" href=\"https://huggingface.co/ioclab/control_v1u_sd15_illumination_webui\">ioclab/control_v1u_sd15_illumination_webui \u00b7 Hugging Face</a></p><p>\u975e\u5e38\u62b1\u6b49\u5728\u8fc7\u53bb\u7684\u4e00\u5468\u91cc\u6ca1\u6709\u6dfb\u52a0\u8be6\u7ec6\u63cf\u8ff0\uff0c\u7531\u4e8e\u5de5\u4f5c\u65f6\u95f4\u539f\u56e0\uff0c\u73b0\u5728\u6211\u5c06\u4ed6\u8865\u5145\u5728\u4e0b\u65b9\uff1a</p><p>\u8fd9\u662f\u4e00\u4e2a\u7c7b\u4f3cdepth\u7684controlnet\uff0c\u540c\u65f6\u5305\u542b\u4e86\u4ece0\u52301\u9636\u6bb5\u7684\u5149\u5f71\u6784\u56fe\u53ef\u63a7\u7684\u76ee\u7684\u7684controlnet\u3002</p><ul><li><p>I am very sorry that I did not add the detailed description in the past week. Due to working time, now I will add it below:</p></li><li><p>This is a controlnet similar to depth, but also contains a controlnet for the purpose of controlling the light composition from 0 to 1.</p></li></ul><h1 id=\"heading-2448\">\u4ece0-1\u7684\u5149\u5f71\u6784\u56fe\u53ef\u63a7 -- text to image</h1><ul><li><p>Controllable composition of light and shadow from 0-1 - text to image</p></li></ul><p>\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u753b\u5e08\uff0c\u6216\u8005\u4f60\u53ef\u4ee5\u4f7f\u7528ps\u7b49\u8f6f\u4ef6\u8fdb\u884c\u56fe\u7247\u7684\u79fb\u52a8\u548c\u62fc\u5408\uff0c\u4f60\u53ef\u4ee5\u4ea7\u51fa\u8fd9\u6837\u7684\u4e00\u5f20\u56fe\u7247\u53bb\u63cf\u8ff0\u4f60\u60f3\u8981\u7684\u6784\u56fe\uff0c\u5982\u4e0b\u9762\u8fd9\u5f20\u56fe\uff0c\u6211\u5e0c\u671b\u5de6\u8fb9\u662f\u4e00\u4e2a\u7c7b\u4f3c\u805a\u5149\u706f\u4e00\u6837\u7684\u89c6\u89c9\u7126\u70b9\uff0c\u540c\u65f6\u7a7a\u6c14\u4e2d\u6f02\u6d6e\u7740\u95ea\u70c1\u7684\u5149\u70b9</p><ul><li><p>If you are a painter, or if you can use Photoshop or other software to move and combine images, you can produce an image that describes your desired composition, such as the one below, where I want to have a visual focal point like a spotlight on the left, with twinkling points of light floating in the air</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/fa2e4fde-e6e9-4f15-ad2b-7fa6b5ef8b91/width=525/fa2e4fde-e6e9-4f15-ad2b-7fa6b5ef8b91.jpeg\" /></p><p>\u5c06\u8fd9\u5f20\u56fe\u4f5c\u4e3acontrolnet\u7684\u8f93\u5165\u540e\uff0c\u8c03\u6574\u6743\u91cd\u4e3a0.6\uff0c\u9000\u51fa\u65f6\u95f4\u4e3a0.65\uff08\u672b\u5c3e\u4f1a\u8fdb\u884c\u89e3\u91ca\uff09\u8f93\u5165\u63d0\u793a\u8bcdmasterpiece, best quality, High contrast, dim environment, bright lights, 1girl, standing in the center of the stage, spotlight hit her, ((floating stars))</p><p>\u4f60\u53ef\u4ee5\u5f97\u5230\u8fd9\u6837\u7684\u7ed3\u679c</p><ul><li><p>With this graph as input to controlnet, adjust the weight to 0.6, Enter the prompt word masterpiece, best quality, High contrast, dim environment, bright lights, 1girl, best quality, high contrast, dim environment, bright lights, 1girl, standing in the center of the stage, spotlight hit her, ((floating stars))</p></li><li><p>You can get something like this</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/fc68baa9-567b-4f93-a0ff-7b8734490c71/width=525/fc68baa9-567b-4f93-a0ff-7b8734490c71.jpeg\" /></p><p>\u4f60\u4f1a\u53d1\u73b0\uff0c\u76f8\u6bd4\u4e8e\u4f20\u7edf\u7684\u751f\u6210\u56fe\u7247\uff0c\u8fd9\u6837\u7684\u65b9\u5f0f\u4f3c\u4e4e\u53ef\u4ee5\u66f4\u660e\u786e\u7684\u8ba9\u753b\u9762\u7684\u660e\u6697\u5173\u7cfb\u66f4\u53ef\u63a7\uff0c\u90a3\u73b0\u5728\u6211\u4eec\u7ee7\u7eed\u4fee\u6539\u3002</p><p>\u6211\u559c\u6b22\u53f3\u4e0b\u89d2\u7684\u6784\u56fe\uff0c\u4f46\u662f\u6211\u5e0c\u671b\u5973\u5b69\u7684\u5149\u5f71\u5c42\u6b21\u66f4\u4e30\u5bcc\uff0c\u6bd4\u5982\u8863\u670d\u4e0a\u6709\u53cd\u5149\uff0c\u5e76\u60f3\u8c03\u6574\u4ed6\u7684\u6bd4\u4f8b\u5173\u7cfb\uff0c\u901a\u8fc7ps\u6216\u5176\u4ed6\u56fe\u7247\u8f6f\u4ef6\u53bb\u8272\uff0c\u9ad8\u65af\u6a21\u7cca\uff0c\u62a0\u56fe\u7684\u6b65\u9aa4\u540e\uff0c\u4f60\u53ef\u4ee5\u5f97\u5230\u8fd9\u6837\u7684\u56fe\u7247\u3002\u6216\u8005\u4f60\u53ef\u4ee5\u7ee7\u7eed\u6309\u81ea\u5df1\u7684\u610f\u613f\u53bb\u91cd\u65b0\u7ed8\u753b</p><ul><li><p>As you can see, compared to the traditional image generation, this method seems to make the relationship between light and shade more clearly controlled, so let's continue to modify.</p></li><li><p>I like the composition in the lower right corner, but I want the girl to have richer light and shadow layers, such as reflecting light on her clothes, and I want to adjust her proportion relationship. After the steps of decolorizing, Gaussian blur and matting through Photoshop or other picture software, you can get such pictures. Or you can go ahead and repaint as you wish</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/92144320-1e8e-4074-8de3-93b4fb8e30e0/width=525/92144320-1e8e-4074-8de3-93b4fb8e30e0.jpeg\" /></p><p>\u5728\u63d0\u4f9b\u56fe\u7247\u7684\u65f6\u5019\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u6bd4\u8f83\u6a21\u7cca\u7684\u56fe\u7247\uff0c\u8fd9\u6837\u53ef\u4ee5\u8ba9ai\u53bb\u8865\u8db3\u66f4\u591a\u7684\u7ec6\u8282</p><p>\u73b0\u5728\u8c03\u6574prompt\u548ccontrolnet\u7684\u8f93\u5165\uff0c\u8f93\u51fa\u56fe\u7247\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4f60\u53ef\u4ee5\u4f7f\u7528lora\uff0c\u5176\u4ed6controlnet\u6765\u52a0\u5f3a\u4f60\u5bf9\u753b\u9762\u7684\u63a7\u5236\u529b\uff0c\u8be5controlnet\u5728\u8bad\u7ec3\u7684\u65f6\u5019\u4fdd\u7559\u4e86\u5bf9HDR\u5bf9\u6bd4\u5ea6\u7684\u4fee\u6539\uff0c\u8ba9\u4ed6\u4e0d\u4f1a\u8fc7\u66dd/\u8fc7\u6697\u800c\u635f\u5931\u56fe\u7247\u7684\u7ec6\u8282\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5e38\u89c1\u7684noiseoffest\u7b49\u63d0\u9ad8\u5bf9\u6bd4\u5ea6\u7684\u5149\u5f71lora\u6765\u914d\u5408\u4f7f\u7528\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5982\u679c\u4f60\u53d1\u73b0\u4e86\u8fc7\u62df\u5408\u7b49\u73b0\u8c61\uff0c\u53ef\u4ee5\u9002\u5f53\u7684\u8c03\u4f4econtrolnet\u7684\u6743\u91cd\u4ee5\u53ca\u9000\u51fa\u65f6\u95f4\u3002</p><p>\u4e0b\u9762\u53ef\u4ee5\u5f97\u5230\u8fd9\u6837\u7684\u56fe\u7247\uff1a</p><ul><li><p>When providing images, you can choose a blurry image, which allows the ai to fill in more detail</p></li><li><p>Now adjust the prompt and controlnet input to output the picture. For more control, you can use lora, controlnet, which has been trained to modify the HDR contrast so that it doesn't overdark or overdark the image. You can use the noiseoffest and other light loras to improve contrast. If you find overfitting and other phenomena during this process, you can appropriately lower the weight and exit time of the controlnet.</p></li><li><p>You can get a picture like this:</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/280024a5-b933-48f4-945d-07972b1c5056/width=525/280024a5-b933-48f4-945d-07972b1c5056.jpeg\" /></p><p>\u53ef\u4ee5\u770b\u5230\uff0cfloating star \u8fd9\u6837\u5e26\u6709\u660e\u4eae\u8bed\u4e49\u7684\u8bcd\uff0c\u88ab\u5f15\u5bfc\u5230\u4e86\u753b\u9762\u4e2d\u6700\u4eae\u7684\u4eae\u70b9\u90e8\u5206\uff0c\u4f60\u53ef\u4ee5\u7528\u8fd9\u4e2a\u539f\u7406\u53bb\u5236\u4f5c\u8bf8\u5982 \u5200\u5149 \u661f\u661f \u6c34\u82b1 \u7b49\u8fc7\u53bb\u96be\u4ee5\u5f15\u5bfc\u7684\u7d20\u6750\uff0c\u8bf7\u89c1\u6700\u540e\u7684\u4f8b\u5b50</p><p>\u5982\u679c\u4f60\u53d1\u73b0\u4f60\u751f\u6210\u7684\u56fe\u7247\u662f\u8fd9\u6837\u7684\uff0c\u4eba\u7269\u5e76\u6ca1\u6709\u6309\u4f60\u60f3\u8981\u7684\u51fa\u73b0\u5728\u76ee\u6807\u4f4d\u7f6e\uff1a</p><ul><li><p>As you can see, \"floating star\", a word with a bright meaning, has come to be seen in the brightest parts of the picture, and you can use this principle to make things that used to be difficult to navigate, such as knife light, star splash, and so on. See the last example</p></li><li><p>If you find yourself generating an image like this, where the person doesn't appear where you want them to:</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/eb9faa18-2403-4fc7-a5c8-012c74c253bb/width=525/eb9faa18-2403-4fc7-a5c8-012c74c253bb.jpeg\" /></p><p>\u8fd9\u4e2a\u65f6\u5019\u4f60\u53ef\u4ee5\u9009\u62e9\u7ee7\u7eedroll\uff0c\u6216\u8005\u8c03\u6574\u6784\u56fe\u3002\u4f46\u662f\uff0c\u6211\u4eec\u4e0d\u662f\u5b64\u519b\u594b\u6218\uff01\u8fd9\u662f\u4e00\u4e2acontrolnet\uff0c\u5e76\u4e14\u53ef\u4ee5\u548c\u5176\u4ed6\u7684controlnet\u5b8c\u7f8e\u914d\u5408\uff0c\u800c\u5728\u8fc7\u53bb\u7684controlnet\u91cc\u6709\u8fd9\u6837\u4e00\u4e2aseg\u53ef\u4ee5\u4f7f\u7528:(\u6709\u70b9\u4e11\uff0c\u4f46\u662fai\u53ef\u4ee5\u7406\u89e3)</p><ul><li><p>At this point you can choose to continue roll, or adjust the composition. But we are not alone! This is a controlnet and works perfectly with other ControlNets, whereas in the past controlnet there was a seg that you could use :(ugly, but ai understood)</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/e42a2251-b0ea-4582-aaae-351827bb33dc/width=525/e42a2251-b0ea-4582-aaae-351827bb33dc.jpeg\" /></p><p>\u5f53\u4f60\u5f00\u542f\u7b2c\u4e8c\u4e2acontrolnet\u7684\u65f6\u5019\uff0c\u4f60\u4f1a\u53d1\u73b0\u4eba\u7269\u51fa\u73b0\u5728\u4e86\u6b63\u786e\u7684\u4f4d\u7f6e\uff0c\u6309\u7167\u8fd9\u4e2a\u903b\u8f91\uff0c\u8fd8\u53ef\u4ee5\u4e0e\u5176\u4ed6\u7684controlnet\u6765\u914d\u5408</p><ul><li><p>When you open the second controlnet, you will see that the character appears in the right place and, by this logic, works with the other controlnet</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/e1a89c24-8eb6-4d69-83c1-901293fc8fbe/width=525/e1a89c24-8eb6-4d69-83c1-901293fc8fbe.jpeg\" /></p><p>\u73b0\u5728\u4f60\u53ef\u4ee5\u4f7f\u7528tile\u6216\u8005img2img\u6765\u9ad8\u6e05\uff0c\u4e5f\u53ef\u4ee5\u8c03\u9ad8\u5206\u8fa8\u7387\u5f00\u542fhires\uff0c\u66f4\u6362\u79cd\u5b50\uff0c\u770b\u770bai\u5728t2i\u91cc\u751f\u6210\u4ec0\u4e48\u6837\u4e0d\u540c\u7684\u7ed3\u679c\uff0c\u4f46\u4f60\u53ef\u4ee5\u770b\u5230\u88ab\u4fdd\u7559\u7684\u661f\u661f\uff0c\u5de6\u8fb9\u7684\u7126\u70b9\uff0c\u88ab\u7167\u4eae\u7684\u5934\u53d1\u548c\u8116\u5b50\u3002\u3002\u3002\uff1a</p><ul><li><p>Now you can use tile or img2img for HD, you can switch to higher resolution hires, change the seeds, see what different ai produces in t2i, but you can see retained stars, left focus, lit hair and neck... :</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/34316cb3-4b92-47ff-9fe6-2753563ae1c6/width=525/34316cb3-4b92-47ff-9fe6-2753563ae1c6.jpeg\" /></p><p>\u66f4\u6362\u4e00\u4e2ackpt\u5c1d\u8bd5\u4e00\u4e0b\uff0c\u4f1a\u4fdd\u6301\u8fd9\u6837\u7684\u5173\u7cfb\u5417\uff1f</p><p>\u7b54\u6848\u662f\u4f1a\uff01</p><ul><li><p>Try replacing a ckpt, will this relationship be maintained?</p></li><li><p>The answer is yes!</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/9fa29a1c-c098-435e-8af3-5f3259fcf0c4/width=525/9fa29a1c-c098-435e-8af3-5f3259fcf0c4.jpeg\" /></p><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/d67a2298-e013-48b8-be36-35f2daf23896/width=525/d67a2298-e013-48b8-be36-35f2daf23896.jpeg\" /><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/831ec4c3-7985-4dd4-b8c8-66cb66d636b9/width=525/831ec4c3-7985-4dd4-b8c8-66cb66d636b9.jpeg\" /><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/eba56b86-6f5b-4433-8f68-a89b5a60611b/width=525/eba56b86-6f5b-4433-8f68-a89b5a60611b.jpeg\" /></p><p>\u901a\u8fc7\u8be5Controlnet\uff0c\u53ef\u4ee5\u8ba9AI\u5728\u751f\u6210\u7684\u65f6\u5019\u610f\u8bc6\u5230\u54ea\u91cc\u5e94\u8be5\u662f\u9634\u5f71\uff0c\u54ea\u91cc\u5e94\u8be5\u662f\u660e\u4eae\u7684\u90e8\u5206\u3002</p><ul><li><p>With the Controlnet, it is possible for the AI to realize where the shadows should be and where the bright parts should be when generating.</p></li></ul><h1 id=\"heading-5241\">\u4ece1-1.5\u7684\u5149\u5f71\u8c03\u6574</h1><ul><li><p>Light and shadow adjustment from 1-1.5</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/45ae51de-047f-4c72-85d1-5373dc8a3c78/width=525/45ae51de-047f-4c72-85d1-5373dc8a3c78.jpeg\" /></p><p>\u5728\u8fd9\u5f20\u793a\u4f8b\u56fe\u4e2d\uff0c\u6211\u8d85\u7ea7\u559c\u6b22\u8fd9\u6837\u7684\u5934\u53d1\u8fb9\u7f18\u5149\u548c\u80cc\u540e\u7684\u70df\u82b1\uff0c\u5e76\u60f3\u5728\u6211\u7684ckpt\u4e0a\u53bb\u5c1d\u8bd5\u590d\u523b\u8fd9\u6837\u7684\u6784\u56fe\u3002\u4f46\u662f\u4f60\u53ef\u80fd\u77e5\u9053\uff0c\u8ba9sd\u91cd\u65b0\u53bbroll\u7684\u8bdd\uff0c\u5f88\u53ef\u80fd\u4f1a\u5931\u53bb\u6211\u60f3\u4fdd\u7559\u7684\u6784\u56fe\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u7528ps\u6263\u9664\u70df\u82b1\u5e76\u5236\u4f5c\u8fd9\u6837\u7684\u8f93\u5165</p><ul><li><p>In this example image, I really liked the hair edge light and the fireworks in the back and wanted to try to recreate this composition on my ckpt. But as you probably know, having sd roll back would probably lose the composition that I wanted to keep, so we could use Photoshop to subtract the fireworks and make this input</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/3394b2fa-5040-498a-abee-e8af7770415c/width=525/3394b2fa-5040-498a-abee-e8af7770415c.jpeg\" /></p><p>\u5e76\u4e14\u7531\u4e8e\u6709\u539f\u56fe\uff0c\u6211\u5236\u4f5c\u4e86\u8fd9\u6837\u7684seg</p><ul><li><p>And because of the original artwork, I made this seg</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/95377a10-116a-4cd8-b3a3-1edbad15cc54/width=525/95377a10-116a-4cd8-b3a3-1edbad15cc54.jpeg\" /></p><ul><li><p>The following please witness!</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/a0b959d1-cb4d-46fc-89f4-a82ce7c83a8d/width=525/a0b959d1-cb4d-46fc-89f4-a82ce7c83a8d.jpeg\" /></p><p>\u662f\u7684\uff0c\u8fd8\u662f\u76f8\u540c\u7684\u6784\u56fe\uff0c\u76f8\u540c\u7684\u5934\u53d1\u8fb9\u7f18\u5149\uff0c\u4f46\u662f\u66f4\u5927\u7684\u70df\u82b1\u51fa\u73b0\u4e86\uff01\u901a\u8fc7controlnet\u548cSD\u672c\u8eab\u5bf9prompt\u7684\u7406\u89e3\uff0c\u70df\u82b1\u4f5c\u4e3a\u660e\u4eae\u7684\u5173\u7cfb\u51fa\u73b0\u5728\u4e86\u6211\u4eec\u9884\u671f\u51fa\u73b0\u7684\u4f4d\u7f6e\uff01</p><p>\u66f4\u6362\u5e95\u819c\uff0c\u67e5\u770b\u66f4\u591a\u7684\u6548\u679c\uff0c\u800c\u4e00\u5207\u6211\u4eec\u60f3\u4fdd\u7559\u7684\uff0c\u90fd\u6709\u4fdd\u7559\uff1a</p><ul><li><p>Yes, same composition, same hair edge light, but bigger fireworks appear! With controlnet's and SD's own understanding of the prompt, fireworks appear as bright relationships where we expected them to be!</p></li><li><p>Replace the bottom film, see more effect, and everything we want to keep, there are reservations:</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/cd5863b5-b2fb-4ba1-9e55-ea0b7686f482/width=525/cd5863b5-b2fb-4ba1-9e55-ea0b7686f482.jpeg\" /></p><p></p><p>\u540c\u6837\u7684\uff0c\u6211\u53ef\u4ee5\u7ed9\u4e00\u5f20\u56fe\u6dfb\u52a0\u65b0\u7684\u5149\u6e90\u548c\u6f02\u6d6e\u7269</p><ul><li><p>Similarly, I can add new light sources and floats to an image</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/f44b0a89-9966-46ae-a012-fa66c167d022/width=525/f44b0a89-9966-46ae-a012-fa66c167d022.jpeg\" /></p><p>\u6211\u4e5f\u53ef\u4ee5\u7ed9\u5200\u8eab\u52a0\u91d1\u5c5e\u53d1\u5149\uff0c\u5e76\u5f15\u5bfc\u6c34\u82b1/\u5200\u5149\u5728\u5176\u9644\u8fd1\u51fa\u73b0\uff0c\u5728\u8eab\u540e\u6dfb\u52a0\u4e00\u4e2a\u706f\uff0c\u4f60\u4e0d\u9700\u8981\u7ed8\u5236\u7684\u592a\u6e05\u6670\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u610f\u5411\u3002</p><ul><li><p>I can also add a metal glow to the blade and direct the splash/blade light to appear near it, and add a light behind it, you don't need to draw too clearly, just an intention.</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/817af647-e5e7-4f50-99d4-a91ed362172c/width=525/817af647-e5e7-4f50-99d4-a91ed362172c.jpeg\" /></p><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/91b1e440-5041-4736-aa0f-bd4228c3d9e9/width=525/91b1e440-5041-4736-aa0f-bd4228c3d9e9.jpeg\" /><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/d0d0bf40-b8b6-4b67-a94e-6363678ec412/width=525/d0d0bf40-b8b6-4b67-a94e-6363678ec412.jpeg\" /></p><p></p><p>\u5728\u5176\u4ed6\u7684\u573a\u666f\u4e2d\uff0c\u8be5controlnet\u4e5f\u4fdd\u7559\u4e86\u8bed\u4e49\uff0c\u4f60\u53ef\u4ee5\u505a\u51fa\u8fd9\u6837\u7684\u56fe\uff1a</p><ul><li><p>In other scenarios, where controlnet preserves semantics, you can make a diagram like this:</p></li></ul><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/ee0254a9-d10b-47c2-9e02-aa29b9609ec9/width=525/ee0254a9-d10b-47c2-9e02-aa29b9609ec9.jpeg\" /></p><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/f9fc8721-20af-445f-98b7-6080361831a2/width=525/f9fc8721-20af-445f-98b7-6080361831a2.jpeg\" /></p><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/5aa18ff3-707c-4f4c-97f3-82460c68863b/width=525/5aa18ff3-707c-4f4c-97f3-82460c68863b.jpeg\" /></p><p><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/57864787-ee8c-4e1d-93fd-beafdbc034ba/width=525/57864787-ee8c-4e1d-93fd-beafdbc034ba.jpeg\" /><img src=\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/9ade65e4-c8a9-40d5-9f0b-47240f0362e4/width=525/9ade65e4-c8a9-40d5-9f0b-47240f0362e4.jpeg\" /></p><p></p><h1 id=\"heading-5477\">\u5982\u4f55\u4f7f\u7528\uff1a</h1><ul><li><p>How to use\uff1f</p></li></ul><p>\u4f60\u53ea\u9700\u8981\u4e0b\u8f7d\u5e76\u5c06\u5176\u653e\u8fdb\u548c\u5176\u4ed6\u7684controlnet\u540c\u4e00\u4e2a\u6a21\u578b\u6587\u4ef6\u5939\u4e2d\uff0c\u5237\u65b0\u6a21\u578b\u5217\u8868\u5373\u53ef\uff0c\u76ee\u524d\u8fd8\u6ca1\u6709\u5236\u4f5c\u7edf\u4e00\u7684\u9884\u5904\u7406\u5668\uff0c\u5982\u679c\u4f60\u6709\u5efa\u8bae\u6b22\u8fce\u8bc4\u8bba\u3002</p><ul><li><p>All you need to do is download and put it in the same model folder as the other controlnet models and refresh the list of models. No unified preprocessor has been made yet, please comment if you have suggestions.</p></li></ul><h1 id=\"heading-5242\">QA\uff1a</h1><p></p><ul><li><p>img2img\u597d\u50cf\u4e5f\u80fd\u8fbe\u5230\u7c7b\u4f3c\u7684\u6548\u679c\uff0c\u6709\u4ec0\u4e48\u533a\u522b\u5417\uff1f</p><ul><li><p>\u662f\u7684\uff0c\u8fc7\u53bb\u662f\u6709\u4e00\u4e9bimg2img\u6216\u8005\u5176\u4ed6\u65b9\u6cd5\u6765\u63a7\u5236\u5149\u5f71\u7684\u51fa\u73b0\uff0c\u4f46\u63a7\u5236\u5f80\u5f80\u9700\u8981\u591a\u6b21\u7684roll\uff0c\u6216\u8005\u66f4\u7cbe\u7ec6\u7684\u5904\u7406\u3002\u901a\u8fc7controlnet\u7684\u8bdd\u4e0d\u4ec5\u53ef\u4ee5\u5728t2i\u9636\u6bb5\u5e26\u6765\u66f4\u591a\u7684\u63a7\u5236\u548c\u53ef\u80fd\u6027\uff0c\u66f4\u597d\u7684\u5e2e\u52a9\u4f60\u4ece0\u60f3\u51fa\u7684\u6784\u56fe\u7684\u5b9e\u73b0\uff0c\u6216\u8005\u5206\u955clayout</p></li><li><p>img2img seems to achieve a similar effect. What's the difference?</p><p>Yes, there are img2img and other ways to control the appearance of light and shadow, but the controls often require multiple rolls or more detailed manipulation. The controlnet approach not only gives you more control and possibilities in t2i, but also helps you create layouts from 0, or shoot layouts</p></li></ul></li><li><p>\u4e3a\u4ec0\u4e48\u6211\u51fa\u7684\u56fe\u7247\u6709\u95ee\u9898\uff0c\u770b\u8d77\u6765\u8fc7\u62df\u5408\u4e86</p><ul><li><p>\u56e0\u4e3a\u8be5controlnet\u662f\u5728\u5927\u91cf\u7684\u771f\u5b9e\u6570\u636e\u96c6\u4e0b\u53bb\u8bad\u7ec3\u7684\uff0c\u5b66\u4e60\u5230\u4e86\u73b0\u5b9e\u4e2d\u5149\u5f71\u548c\u56fe\u7247\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u6240\u4ee5\u5728\u52a8\u6f2b\u7b49\u573a\u666f\u4e2d\u5e94\u7528\u65f6\uff0c\u9700\u8981\u8c03\u4f4e\u6743\u91cd\u548c\u9000\u51fa\u65f6\u95f4\uff0c\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u6743\u91cd0.6\uff0c\u9000\u51fa\u65f6\u95f40.6\u3002\u8bf7\u7b49\u5f85\u4e0b\u4e00\u4e2a\u7248\u672c\u6539\u8fdb\uff0c\u9700\u8981\u4f60\u7684\u53cd\u9988\u6765\u5e2e\u52a9\u6211\u53bb\u8c03\u6574\u8bad\u7ec3\u65b9\u5f0f~</p></li><li><p>Why is there something wrong with my picture? It looks overfitted</p><p>Because the controlnet is trained on a large set of real data to learn the relationship between light and picture in real life, you need to lower the weight and exit time when applying it in animation and other scenarios. You can try weight 0.6 and exit time 0.6</p></li><li><p>Please wait for the next version improvement\uff0cI need your feedback to help me adjust my training style</p></li></ul></li><li><p>\u6709\u5176\u4ed6\u7684\u4f8b\u5b50\u548c\u8ba8\u8bba\u5417\uff1f</p><ul><li><p>Any other examples and discussions?</p></li><li><p><a target=\"_blank\" rel=\"ugc\" href=\"https://aigc.ioclab.com/sd-showcase/light_controlnet.html\">4.6. Light Composition Controlnet \u4f7f\u7528\u6559\u7a0b\u53ca\u8bad\u7ec3\u8bb0\u5f55 - AIGC All in One (</a><a target=\"_blank\" rel=\"ugc\" href=\"http://ioclab.com\">ioclab.com</a><a target=\"_blank\" rel=\"ugc\" href=\"https://aigc.ioclab.com/sd-showcase/light_controlnet.html\">)</a></p></li><li><p><a target=\"_blank\" rel=\"ugc\" href=\"https://huggingface.co/ioclab/control_v1u_sd15_illumination_webui\">ioclab/control_v1u_sd15_illumination_webui \u00b7 Hugging Face</a></p></li><li><p><a target=\"_blank\" rel=\"ugc\" href=\"https://discord.com/channels/879548962464493619/1093958427417518120\">https://discord.com/channels/879548962464493619/1093958427417518120</a></p></li><li><p><a target=\"_blank\" rel=\"ugc\" href=\"https://www.reddit.com/r/StableDiffusion/comments/12yh9lm/a_new_test_version_of_controlnet_for_controlling/\">(6) A new test version of ControlNet for controlling lighting and composition has been released!! : StableDiffusion (</a><a target=\"_blank\" rel=\"ugc\" href=\"http://reddit.com\">reddit.com</a><a target=\"_blank\" rel=\"ugc\" href=\"https://www.reddit.com/r/StableDiffusion/comments/12yh9lm/a_new_test_version_of_controlnet_for_controlling/\">)</a></p></li></ul></li><li><p>\u6211\u4e5f\u60f3\u8bad\u7ec3\u4e00\u4e2acontrolnet\uff0c\u5982\u4f55\u5f00\u59cb\uff1f</p><ul><li><p>I also want to train a controlnet, how to get started?</p></li><li><p><a target=\"_blank\" rel=\"ugc\" href=\"https://aigc.ioclab.com/sd-showcase/light_controlnet.html\">4.6. Light Composition Controlnet \u4f7f\u7528\u6559\u7a0b\u53ca\u8bad\u7ec3\u8bb0\u5f55 - AIGC All in One</a></p></li><li><p><a target=\"_blank\" rel=\"ugc\" href=\"https://aigc.ioclab.com/sd-showcase/brightness-controlnet.html\">4.5. Brightness ControlNet \u8bad\u7ec3\u6d41\u7a0b - AIGC All in One (</a><a target=\"_blank\" rel=\"ugc\" href=\"http://ioclab.com\">ioclab.com</a><a target=\"_blank\" rel=\"ugc\" href=\"https://aigc.ioclab.com/sd-showcase/brightness-controlnet.html\">)</a></p></li><li><p><a target=\"_blank\" rel=\"ugc\" href=\"https://discord.com/channels/879548962464493619/1093958427417518120\">https://discord.com/channels/879548962464493619/1093958427417518120</a></p></li></ul></li></ul>", "type": "Controlnet", "poi": false, "nsfw": false, "allowNoCredit": false, "allowCommercialUse": "Image", "allowDerivatives": false, "allowDifferentLicense": true, "stats": {"downloadCount": 1751, "favoriteCount": 411, "commentCount": 20, "ratingCount": 5, "rating": 4.4}, "creator": {"username": "Isle_of_Chaos", "image": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/aff09adb-4533-495d-db4c-8b629af9b900/width=96/Isle_of_Chaos.jpeg"}, "tags": ["tool"], "modelVersions": [{"id": 85428, "modelId": 80536, "name": "v1.0", "createdAt": "2023-05-30T11:27:36.057Z", "updatedAt": "2023-06-05T13:07:40.945Z", "trainedWords": [], "baseModel": "SD 1.5", "earlyAccessTimeFrame": 0, "description": null, "stats": {"downloadCount": 1751, "ratingCount": 5, "rating": 4.4}, "files": [{"name": "lightingBasedPicture_v10.safetensors", "id": 58338, "sizeKB": 1411283.998046875, "type": "Model", "metadata": {"fp": null, "size": null, "format": "SafeTensor"}, "pickleScanResult": "Success", "pickleScanMessage": "No Pickle imports", "virusScanResult": "Success", "scannedAt": "2023-05-30T11:37:05.897Z", "hashes": {"AutoV1": "0C4BD571", "AutoV2": "F0524D0CCA", "SHA256": "F0524D0CCA37E98A5402C22C729EE86DA76CD4E44449CF6A90B0619B1F8B3B23", "CRC32": "D7B69222", "BLAKE3": "106EC6DC29D1C1BCA775B170B4365D3B643AE5FF32A3D3FC4150892FB886CE17"}, "downloadUrl": "https://civitai.com/api/download/models/85428", "primary": true}], "images": [{"id": 976637, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/35b50e25-454f-4817-8d96-a7dcb2d2dc58/width=450/976637.jpeg", "nsfw": "None", "width": 474, "height": 704, "hash": "UvIrELWBxut7~qWBt7ayM{xu%MWBof%Mt7of", "meta": null}, {"id": 1039798, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/02c54e8b-b5c0-44b5-9b48-fb3cd229f1b0/width=450/1039798.jpeg", "nsfw": "None", "width": 2506, "height": 1868, "hash": "U7CG}Oy,ZNIpO]pJIUs.9%byRRofKkx]rWf+", "meta": null}, {"id": 976626, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/c54ad04d-315b-4070-9fe0-37577566c8eb/width=450/976626.jpeg", "nsfw": "None", "width": 1707, "height": 2031, "hash": "U67^up,;xtx^ADpIozxuv~?Ht7kC?^NGofxu", "meta": null}, {"id": 976639, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/cc46adce-8a00-407b-9e92-ecaade60fead/width=450/976639.jpeg", "nsfw": "None", "width": 474, "height": 704, "hash": "UED=HM|z1@fQJjFGN@jtFGsVwySLFGWoo2SL", "meta": null}, {"id": 967286, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/9693ca74-6f8a-4a38-8912-e1ec4bf8bce6/width=450/967286.jpeg", "nsfw": "None", "width": 1197, "height": 891, "hash": "UIF5?bS%jZsm?bI;R-s,M{R+ShbH~pI:WBjY", "meta": null}, {"id": 976636, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/06043787-58f0-4c5d-bd5d-8694d9b92470/width=450/976636.jpeg", "nsfw": "None", "width": 1333, "height": 750, "hash": "U28e17Jj1o;+A.sV,aJjFGsV$7N@1@sV|yN[", "meta": null}, {"id": 976638, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/239be375-5ad1-463a-a11c-01fd60fbdfac/width=450/976638.jpeg", "nsfw": "None", "width": 1333, "height": 750, "hash": "U35}px~q0000-;t7M{Rj00IU_3?bRjWBWBof", "meta": null}, {"id": 976640, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/15ed1e94-f098-41d9-aa48-2ade5a549846/width=450/976640.jpeg", "nsfw": "None", "width": 768, "height": 768, "hash": "UjIY5?~qIUWBt7xu%M-;D%of%MWBj[ofj[WB", "meta": null}, {"id": 976641, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/386a69d0-ffa8-400b-8955-65d479cdcaee/width=450/976641.jpeg", "nsfw": "None", "width": 768, "height": 768, "hash": "UgIhpl~qIURjxut7%M-;IUay%MWBofofofRj", "meta": null}, {"id": 976645, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/7db6321f-1e07-4cad-9a3e-6500377aa4fa/width=450/976645.jpeg", "nsfw": "None", "width": 1707, "height": 2031, "hash": "U67^up,;xtx^ADpIozxuv~?Ht7kC?^NGofxu", "meta": null}], "downloadUrl": "https://civitai.com/api/download/models/85428"}]}