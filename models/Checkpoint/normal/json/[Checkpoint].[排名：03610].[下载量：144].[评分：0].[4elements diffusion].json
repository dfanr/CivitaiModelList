{"id": 1069, "name": "4elements diffusion", "description": "<p>Originally posted to <a href=\"https://huggingface.co/ai-characters/4elements-diffusion\" rel=\"ugc\" target=\"_blank\">HuggingFace by ai-characters</a></p><p><strong>Feel free to donate to my KoFi to help me fund renting GPU's for further model creation and experimentation!</strong> https://ko-fi.com/aicharacters</p><p>A StableDiffusion All-In-One Legend of Korra style + Korra character Dreambooth model created by AI-Characters. <strong>Disclaimer:</strong> This model is best used using Automatic1111 WebUI!</p><p>--- This model is not yet final! I will keep working on it and trying to improve it! I also welcome anyone to use my uploaded dataset (see at the bottom of this page) to create a better version! ---</p><p>Follow me on my social media channels for AI art posts and model updates!</p><p>https://www.instagram.com/ai_characters/</p><p>https://twitter.com/ai_characters</p><p><br /></p><p><strong>IMPORTANT INFORMATION BEFORE YOU USE THIS MODEL</strong></p><p>I highly recommend using img2img when using this model, either by converting photos into the Legend of Korra artstyle or by resizing your initial 512x512 txt2img Legend of Korra style generations up to 1024x1024 or higher resolutions. <strong>Your initial 512x512 txt2img generations using the Legend of Korra artstyle WILL ALWAYS look like crap</strong> if you generate shots of characters that are more zoomed out than just a closeup (e.g. half-body or full-shot). <strong>Resizing the initial 512x512 generations to 1024x1024 or bigger</strong> (full-shots will likely need 1536x1536 to look good) using img2img <strong>will drastically improve your experience using this model!</strong> For more information see the \"How to use\" section of this page! This model is much trickier to use than other models, but in return it is very flexible and has high likeness!</p><p><br /></p><p><strong>Introduction</strong></p><p>Welcome to my first ever published StableDiffusion model and the first public model <strong>trained on the Legend of Korra artstyle</strong>! But not just the artstyle: <strong>I have trained this model on Korra, including <em>all</em> of her outfits, as well!</strong> In total this model was trained using a manually captioned dataset of 1142 images: screencaps from the show, fanart, and cosplay photos.</p><p>I spent every day the last 4 weeks working on this project and spent hundreds of euros renting many many many GPU hours on VastAI to experiment with various parameters. I have created more than 50 ckpt's since then and learned a ton since then and got a ton of insight.</p><p><br /></p><p><strong>Recommended samplers</strong></p><p>EulerA at 20 steps for quick results LMS at 100-150 steps for higher quality results that also follow your prompt more closely</p><p><strong>How to correctly use this model</strong> (it's not as simple as the other models floating around the web currently!)</p><p>This model is not as easy to use as some of the other models you might be used to. For good results prompt engineering and img2img resizing is required. I highly recommend tinkering with the prompt weights, prompt order, samplers, cfg and step values, etc! The results can be well worth it!</p><p>My recommendation is to generate a photo in the vanilla SD model, send it to img2img, then switching the model to this one, and using the img2img function to transfer the style to the Legend of Korra style! Also consider inpainting (though this model isn't trained on the new base inpainting model yet)!</p><p>I also recommend to keep prompts simple and the \"zoom\" closer to the character for better results! Though sometimes a highly complex prompt can result in much better generations, e.g. \"Emma Watson, tlok artstyle\" will almost always produce much worse results than a more complex prompt!</p><p><strong>First of all: SD doesn't play well with the artstyle at the standard 512x512. So your initial 512x512 generations in the artstyle will need to be resized to 1024x1024 for half-body shots and 1536x1536 for full-body shots in order to look good.</strong> Closeups will look okay in 512x512 but I still recommend upscaling to 1024x1024.</p><p>An example:</p><p>Initial 512x512 generation</p><p>Upscaled to 1024x1024 (with an inpainted face)</p><p>Upscaled to 1526x1536 (with an inpainted face)</p><p><strong>I recommend using the following negative prompt for all generations (no matter what style, aka it massively improves the tlok artstyle generations as well!): \"blur, vignette, instagram\"</strong></p><p>I have no idea why that works. It just does.</p><p>This will drastically reduce the \"overtrained effect\" of the generations, e.g. too bright, vignetted and fried images.</p><p>Examples:</p><p>Without the negative prompt:</p><p>With the negative prompt:</p><p>Only for photos: You can add \"photo, tlok artstyle\" to the negative prompt for a further reduction in the \"overtrained effect\"! Having photo in both the positive and negative prompt may sound nonsensical, but it works!</p><p><strong>Use \"cosplay photo\" and not just \"photo\" in your positive prompt as just \"photo\" is not strong enough to force through the photo style, while \"cosplay photo\" is because the captions were trained on that!</strong></p><p>Example:</p><p>Just \"photo\"</p><p>\"cosplay photo\"</p><p><strong>Add \"tlok artstyle\" to the negative prompt if you find that the Legend of Korra style is influencing your prompt too strongly!</strong></p><p>Tokens to use to prompt the artstyle as well as Korra's different outfits</p><p><strong>You can give Korra's outfits also to other people thanks to the token method!</strong></p><p><strong>Legend of Korra artstyle:</strong></p><p>\"tlok artstyle\"</p><p><strong>The model was trained using captions such as \"cosplay photo\", \"full-shot\", \"half-body\", \"closeup\", \"facial closeup\", among others. So use those terms when prompting for stronger effects!</strong></p><p><strong>Korra's hairstyles:</strong></p><ul><li>Default ponytail hair = \"stada hairstyle\"</li><li>Opened hair = \"oped hairstyle\"</li><li>Loose hair = \"loes hairstyle\"</li><li>Season4 short hair = \"shoa hairstyle\"</li><li>Traditional formal hair = \"taio hairstyle\"</li><li>Season4 formal hair = \"foha hairstyle\"</li><li>young child Korra hairstyle = \"okch hairstyle\"</li></ul><p><strong>Korra's outfits:</strong></p><p>\"wearing X outfit\"</p><p>(the second word are the hairstyles, prompting them alongside the outfit will give you better likeness, but you can also mix and match different hairstyles and outfits together as you see fit at the cost of likeness, though some outfits and hairstyles work better than others in this regard)</p><ul><li>runa shoa (earth kingdom runaway)</li><li>saco stada (default parka)</li><li>aino stada (airnomad (makes her look like a child for some reason))</li><li>fife stada (fireferrets probending uniform)</li><li>eqli stada (equalist disguise)</li><li>boez oped (season2 parka)</li><li>defa stada (default outfit)</li><li>alte stada (season2 outfit)</li><li>asai shoa (Asami's jacket (doesn't work so well))</li><li>taso stada (Tarrlok's taskforce)</li><li>dava oped (dark avatar/season 3 finale)</li><li>seri foha (series finale gown)</li><li>fose shoa (season4 outfit)</li><li>proe stada (probending training attire)</li><li>tuwa shoa (turfwars finale gown from the comics (doesn't work so well))</li><li>cidi stada (civilian disguise)</li><li>epgo taio (traditional dress)</li><li>bafo loes (bath/sleeping robe)</li><li>ektu shoa (earth kingdom tunic/hoodie)</li><li>pama loes (pajamas)</li><li>exci stada (firebending exercise (doesn't work so well))</li><li>as chie, wearing yowi (child korra, winter outfit from the comics)</li><li>as chie, wearing suou (child kora, summer outfit)</li></ul><p><strong>Current shortcomings of the model</strong></p><ul><li>the model is infected due to no regularization. This means better likeness but also means that you are better off using the original vanilla SD model for txt2img photo generations and then send them to img2img and switch the model over to this one for style transfer!</li><li>the model may struggle at times with more complex prompts</li><li>location tagging is very rudimentary for now (exterior, day, arctic)</li><li>No tagging of unique locations, e.g. Republic City</li><li>Korra is the only trained character for now</li><li>a few of the outfits don't work that well because of low amount of training images or low resolution images. Generally some outfits, people, things, styles and prompts will work better than others</li><li>likeness was better for certain prompts in my older models</li></ul><p><strong>Outlook into the future</strong></p><ul><li>Ideally I will be able to expand upon this model in the future by adding all the other characters from the show and maybe even ATLA characters! However, right now I am uncertain if that is possible, as the model is already heavily trained.</li><li>Generally I want to improve this models likeness and flexibility</li><li>Training this model on the new base inpainting model</li><li>I seek to produce more models in the future such as models for Ahsoka, Aloy, Owl House, Ghibli, Sadie Sink, She-Ra, various online artists... but that will take time (and money)</li></ul><p>How I created this model and the underlying dataset (+ dataset download link!)</p><p>At first I wanted to create only a small Korra model with only her default outfit. In the first days I was experimenting with the standard class and token Dreambooth method using JoePennas repo. For that I manually downloaded 900 screenshots from the show of Korra in her default outfit from fancaps.net. I then manually cropped and resized those images. As I ran into walls I stopped trying to create this model and restarted trying to create a general style model using native finetuning instead. This time however I used the 40\u20ac paid version of \"Bulk Image Downloader\" to automatically download around 30000 screencaps of the show from fancaps.net. I then used AntiDupl.NET to delete around half of the images which were found out by the program to be a duplicate. I then used ChaiNNer and IrfanView to bulk crop and resize the rest of the dataset to 512x512. I also downloaded around 200 high-quality fanarts and cosplay photos depicting Korra in her various outfits and some non-show outfits and used Irfanview to automatically resize them to 512x512 without cropping by adding black borders to the image (those do not show up in the final model output, luckily).</p><p>I spent a lot of money on GPU renting for the native finetuning but results were worse than my Dreambooth experiments so I went back to Dreambooth and used a small fraction of the finetuning dataset to create a style model. I learned a lot this time around and improved my model results but still results were not to my liking.</p><p>That is when I found out about the caption method in JoePennas repo. So I went ahead and spent an entire weekend, 12 hours each day, manually captioning around 1000 images. I used around 300 images from the former finetuning dataset for the style, 600 from the former 900 manually cropped and resized screencaps of Korra in her default outfit, then around 200 fanarts and cosplay photos and some additional screencaps and images of Korra in all her other outfits, to create my final dataset.</p><p>I used \"Bulk File Rename\" for Windows 10 to bulk rename files aka add captions.</p><p><strong>The captioned dataset is available for download here:</strong></p><p>https://www.dropbox.com/s/iobslrmyvdoi8oy/1142%20images%2C%20manually%20captioned%2C%20manual%20and%20automatic%20cropping%2C%20downscaled%20from%201024x1024.7z?dl=1</p><p><strong>The 14000 show screencaps can be found for download here:</strong></p><p>https://www.dropbox.com/s/406u0tv9xuttgku/14284%20images%2C%20512x512%2C%20automatically%20cropped%2C%20downscaled%20from%201080x1080.7z?dl=1</p><p>I encourage everyone to try and do it better than me and create your own Legend of Korra model!</p><p>Ultimately I spent the past two weeks experimenting with various different captions and training settings to reach my final model.</p><p>My final model uses these training settings:</p><ul><li>Repo: JoePenna's with captions (no class or regularization and only a fake token that will not be used during training)</li><li>Learning rate: 3e-6 (for 80 repeats) and 2e-6 (for 35 repeats)</li><li>Repeats/Steps: See above (1 repeat = one run through the entire dataset, so 1142 steps)</li></ul><p>I had to use such high learning rates because due to the nature of the size of the dataset and captions it required it to attain the likeness I wanted for both the style and all of Korra's outfits.</p><p>There is much more to be said here regarding my workflow, experimentation, and the like, but I don't want to make this longer than necessary and this <em>is</em> already very long.</p>", "type": "Checkpoint", "poi": false, "nsfw": false, "allowNoCredit": true, "allowCommercialUse": "Sell", "allowDerivatives": true, "allowDifferentLicense": true, "stats": {"downloadCount": 144, "favoriteCount": 38, "commentCount": 0, "ratingCount": 0, "rating": 0}, "creator": {"username": "pashahlis928", "image": "https://cdn.discordapp.com/avatars/232182991844016129/299dc2479301fe69fea527c83f2a108c.png"}, "tags": ["anime", "character", "subject"], "modelVersions": [{"id": 1044, "modelId": 1069, "name": "v1", "createdAt": "2022-11-22T00:31:01.031Z", "updatedAt": "2022-11-30T23:42:50.877Z", "trainedWords": ["tlok artstyle", "stada hairstyle", "oped hairstyle", "loes hairstyle", "shoa hairstyle", "taio hairstyle", "foha hairstyle", "okch hairstyle"], "baseModel": "SD 1.5", "earlyAccessTimeFrame": 0, "description": null, "stats": {"downloadCount": 144, "ratingCount": 0, "rating": 0}, "files": [{"name": "4elementsDiffusion_v1.ckpt", "id": 957, "sizeKB": 2082913.657226562, "type": "Model", "metadata": {"fp": "fp16", "size": "full", "format": "PickleTensor"}, "pickleScanResult": "Success", "pickleScanMessage": "No Pickle imports", "virusScanResult": "Success", "scannedAt": "2022-11-22T19:06:56.094Z", "hashes": {"AutoV1": "D1CD41EA", "AutoV2": "30A67E3E17", "SHA256": "30A67E3E17DA08A0EF04E69CDED7F48267DBB878BCCAA37E5C552A1947CA468E", "CRC32": "E50D4D6D", "BLAKE3": "654AC8E2ED0DDC82D6E8A7E20664470F81147F5319B141CC0D76514D96C7232E"}, "downloadUrl": "https://civitai.com/api/download/models/1044", "primary": true}], "images": [{"id": 8507, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/510d1ce3-ece7-45b4-d74d-cc9cae366800/width=450/8507.jpeg", "nsfw": "None", "width": 1024, "height": 1024, "hash": "UgF$M9XB%4RiX=NfR.f8SjxboefmI=RiWVj[", "meta": null}, {"id": 8501, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/8222859b-4231-4c42-d400-c6527f918e00/width=450/8501.jpeg", "nsfw": "None", "width": 1024, "height": 1024, "hash": "UEG@_H02~q57Z~9aoyE1yERjxHs,rpbDRTWA", "meta": null}, {"id": 8517, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/c29ba7cf-35e1-433d-e130-350bf51d9300/width=450/8517.jpeg", "nsfw": "Soft", "width": 512, "height": 512, "hash": "UUG0h5n3u3o}E1tRDORP_Mf,t6oeo}j]RjbH", "meta": null}, {"id": 8503, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/c449333f-952f-43b7-4990-07b594e0f800/width=450/8503.jpeg", "nsfw": "None", "width": 1024, "height": 1024, "hash": "UFDcUMb{x_tSX;M{M|M{%it7ogof_4bc%MbI", "meta": null}, {"id": 8505, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/b807abeb-bfa1-4cbf-f1fb-e71872c77800/width=450/8505.jpeg", "nsfw": "None", "width": 1024, "height": 1024, "hash": "UDH_c1xa0fIV4nM{_Noz4oocohV@u5oy8_ae", "meta": null}, {"id": 8506, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/ecbcd96b-4f3f-4ee3-0b97-7de8697fd900/width=450/8506.jpeg", "nsfw": "None", "width": 1024, "height": 1024, "hash": "U9L3_JyU00~U020002-Uwi%3s;xtr@o|RkM|", "meta": null}, {"id": 8508, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/f0bab164-7119-4360-d8d9-15beefba8a00/width=450/8508.jpeg", "nsfw": "None", "width": 1536, "height": 1536, "hash": "UDD,WYRh0MIn00nmeSs:.mx]?vx]8_MxRQMx", "meta": null}, {"id": 8511, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/1f8d9e58-3da2-4c79-2b1c-54c8b6fec000/width=450/8511.jpeg", "nsfw": "None", "width": 1024, "height": 1024, "hash": "U8HC4a00Y+?d~28^v1?d5_x^?C9HTg00tQE3", "meta": null}, {"id": 8512, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/5ce5efcd-595b-44a0-2531-d936fda67e00/width=450/8512.jpeg", "nsfw": "None", "width": 1024, "height": 1024, "hash": "UFDvlz4o0JR*KF^+9ajY%E9Z~XRj9X%K%NWY", "meta": null}, {"id": 8516, "url": "https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/ffed64ef-a112-4737-885a-6f86667f7b00/width=450/8516.jpeg", "nsfw": "None", "width": 512, "height": 512, "hash": "UaFP~ds9H=jEx|WstQay.AIVo#og%$o#V@jE", "meta": null}], "downloadUrl": "https://civitai.com/api/download/models/1044"}]}